@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════
   SAUDI TRIP PLANNER — Premium Design System
   ═══════════════════════════════════════════════════════════ */

/* ─── Theme CSS Variables ──────────────────────────────── */

:root {
  /* Default: Desert Sand theme */
  --color-bg: 253 248 240;
  --color-surface: 255 255 255;
  --color-surface-alt: 249 237 217;
  --color-text: 59 28 14;
  --color-text-muted: 131 68 34;
  --color-primary: 214 136 51;
  --color-primary-hover: 192 110 40;
  --color-accent: 26 174 90;
  --color-border: 242 217 176;
  --color-card-shadow: 0 0 0 / 0.06;
  --color-glass: 255 255 255 / 0.65;
  --color-glass-border: 255 255 255 / 0.18;
  --color-gradient-start: 214 136 51;
  --color-gradient-end: 26 174 90;
}

.dark {
  --color-bg: 12 8 4;
  --color-surface: 24 18 12;
  --color-surface-alt: 38 28 18;
  --color-text: 253 248 240;
  --color-text-muted: 210 170 130;
  --color-primary: 223 160 78;
  --color-primary-hover: 237 141 70;
  --color-accent: 62 201 118;
  --color-border: 55 38 22;
  --color-card-shadow: 0 0 0 / 0.4;
  --color-glass: 24 18 12 / 0.7;
  --color-glass-border: 255 255 255 / 0.08;
  --color-gradient-start: 223 160 78;
  --color-gradient-end: 62 201 118;
}

/* Theme: Royal Green */
[data-theme="royal"] {
  --color-bg: 240 247 242;
  --color-surface: 255 255 255;
  --color-surface-alt: 217 235 222;
  --color-text: 4 23 11;
  --color-text-muted: 10 50 32;
  --color-primary: 22 93 49;
  --color-primary-hover: 15 77 40;
  --color-accent: 214 136 51;
  --color-border: 181 210 189;
  --color-glass: 255 255 255 / 0.65;
  --color-glass-border: 22 93 49 / 0.12;
  --color-gradient-start: 22 93 49;
  --color-gradient-end: 214 136 51;
}

[data-theme="royal"].dark {
  --color-bg: 4 10 5;
  --color-surface: 10 20 12;
  --color-surface-alt: 18 35 22;
  --color-text: 240 247 242;
  --color-text-muted: 135 173 135;
  --color-primary: 94 160 110;
  --color-primary-hover: 117 180 130;
  --color-accent: 223 160 78;
  --color-border: 30 55 35;
  --color-glass: 10 20 12 / 0.7;
  --color-glass-border: 255 255 255 / 0.08;
  --color-gradient-start: 94 160 110;
  --color-gradient-end: 223 160 78;
}

/* Theme: Desert Sunset */
[data-theme="sunset"] {
  --color-bg: 254 248 240;
  --color-surface: 255 255 255;
  --color-surface-alt: 248 215 180;
  --color-text: 62 21 10;
  --color-text-muted: 144 53 25;
  --color-primary: 233 113 34;
  --color-primary-hover: 218 89 24;
  --color-accent: 181 66 22;
  --color-border: 243 185 130;
  --color-glass: 255 255 255 / 0.65;
  --color-glass-border: 233 113 34 / 0.15;
  --color-gradient-start: 233 113 34;
  --color-gradient-end: 181 66 22;
}

[data-theme="sunset"].dark {
  --color-bg: 18 7 2;
  --color-surface: 30 14 6;
  --color-surface-alt: 48 20 10;
  --color-text: 254 248 240;
  --color-text-muted: 220 140 90;
  --color-primary: 237 141 70;
  --color-primary-hover: 243 181 123;
  --color-accent: 233 113 34;
  --color-border: 65 28 14;
  --color-glass: 30 14 6 / 0.7;
  --color-glass-border: 255 255 255 / 0.08;
  --color-gradient-start: 237 141 70;
  --color-gradient-end: 233 113 34;
}

/* ─── Base Styles ──────────────────────────────────────── */

html {
  scroll-behavior: smooth;
}

body {
  background-color: rgb(var(--color-bg));
  color: rgb(var(--color-text));
  transition: background-color 0.4s ease, color 0.4s ease;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* RTL support */
[dir="rtl"] {
  font-family: "Noto Sans Arabic", "Inter", system-ui, sans-serif;
}

/* Premium scrollbar */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: rgb(var(--color-bg));
}
::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgb(var(--color-primary) / 0.4), rgb(var(--color-accent) / 0.4));
  border-radius: 999px;
  border: 2px solid rgb(var(--color-bg));
}
::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgb(var(--color-primary) / 0.7), rgb(var(--color-accent) / 0.7));
}

/* Selection color */
::selection {
  background: rgb(var(--color-primary) / 0.25);
  color: rgb(var(--color-text));
}

@layer utilities {
  .bg-theme-bg { background-color: rgb(var(--color-bg)); }
  .bg-theme-surface { background-color: rgb(var(--color-surface)); }
  .bg-theme-surface-alt { background-color: rgb(var(--color-surface-alt)); }
  .bg-theme-primary { background-color: rgb(var(--color-primary)); }
  .bg-theme-primary-hover { background-color: rgb(var(--color-primary-hover)); }
  .bg-theme-accent { background-color: rgb(var(--color-accent)); }
  .text-theme { color: rgb(var(--color-text)); }
  .text-theme-muted { color: rgb(var(--color-text-muted)); }
  .text-theme-primary { color: rgb(var(--color-primary)); }
  .text-theme-accent { color: rgb(var(--color-accent)); }
  .border-theme { border-color: rgb(var(--color-border)); }
  .ring-theme-primary { --tw-ring-color: rgb(var(--color-primary)); }

  /* Glassmorphism */
  .glass {
    background: rgb(var(--color-glass));
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    border: 1px solid rgb(var(--color-glass-border));
  }
  .glass-strong {
    background: rgb(var(--color-glass));
    backdrop-filter: blur(40px) saturate(200%);
    -webkit-backdrop-filter: blur(40px) saturate(200%);
    border: 1px solid rgb(var(--color-glass-border));
  }

  /* Gradient text */
  .text-gradient {
    background: linear-gradient(135deg, rgb(var(--color-gradient-start)), rgb(var(--color-gradient-end)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Gradient backgrounds */
  .bg-gradient-brand {
    background: linear-gradient(135deg, rgb(var(--color-primary)), rgb(var(--color-accent)));
  }
  .bg-gradient-subtle {
    background: linear-gradient(180deg, rgb(var(--color-bg)), rgb(var(--color-surface-alt)));
  }

  /* Shimmer loading effect */
  .shimmer {
    background: linear-gradient(
      90deg,
      rgb(var(--color-surface-alt)) 0%,
      rgb(var(--color-surface)) 50%,
      rgb(var(--color-surface-alt)) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  /* Glow effects */
  .glow-primary {
    box-shadow: 0 0 20px rgb(var(--color-primary) / 0.3), 0 0 60px rgb(var(--color-primary) / 0.1);
  }
  .glow-accent {
    box-shadow: 0 0 20px rgb(var(--color-accent) / 0.3), 0 0 60px rgb(var(--color-accent) / 0.1);
  }

  /* Premium Hover Lift */
  .hover-lift {
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.4s ease;
  }
  .hover-lift:hover {
    transform: translateY(-6px);
    box-shadow: 0 20px 50px rgb(var(--color-card-shadow)), 0 8px 16px rgb(var(--color-primary) / 0.08);
  }

  /* Floating animation */
  .float {
    animation: float 6s ease-in-out infinite;
  }
  .float-slow {
    animation: float 10s ease-in-out infinite;
  }
  .float-delayed {
    animation: float 6s ease-in-out 2s infinite;
  }

  /* Gradient Border */
  .border-gradient {
    position: relative;
    border: none;
  }
  .border-gradient::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1.5px;
    background: linear-gradient(135deg, rgb(var(--color-primary)), rgb(var(--color-accent)));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }

  /* Reveal on scroll */
  .reveal {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.7s ease, transform 0.7s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ─── Keyframes ────────────────────────────────────────── */

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  33% { transform: translateY(-8px) rotate(1deg); }
  66% { transform: translateY(4px) rotate(-1deg); }
}

/* Page transitions */
@keyframes pageEnter {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}
.page-enter {
  animation: pageEnter 0.6s cubic-bezier(0.16, 1, 0.3, 1) both;
}

/* Stagger children */
.stagger-children > * {
  opacity: 0;
  animation: staggerFadeUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}
@keyframes staggerFadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.stagger-children > *:nth-child(1) { animation-delay: 0.05s; }
.stagger-children > *:nth-child(2) { animation-delay: 0.1s; }
.stagger-children > *:nth-child(3) { animation-delay: 0.15s; }
.stagger-children > *:nth-child(4) { animation-delay: 0.2s; }
.stagger-children > *:nth-child(5) { animation-delay: 0.25s; }
.stagger-children > *:nth-child(6) { animation-delay: 0.3s; }
.stagger-children > *:nth-child(7) { animation-delay: 0.35s; }
.stagger-children > *:nth-child(8) { animation-delay: 0.4s; }
.stagger-children > *:nth-child(9) { animation-delay: 0.45s; }
.stagger-children > *:nth-child(10) { animation-delay: 0.5s; }
.stagger-children > *:nth-child(11) { animation-delay: 0.55s; }
.stagger-children > *:nth-child(12) { animation-delay: 0.6s; }

/* Ken Burns */
@keyframes kenBurns {
  0% { transform: scale(1.02); }
  100% { transform: scale(1.12); }
}
.ken-burns {
  animation: kenBurns 12s ease-out forwards;
}

/* Pulse dot */
@keyframes pulseDot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.5); }
}
.pulse-dot {
  animation: pulseDot 2s ease-in-out infinite;
}

/* Count up */
@keyframes countUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.count-up {
  animation: countUp 0.6s ease-out forwards;
}

/* Slide up (wizard) */
@keyframes slideUp {
  from { opacity: 0; transform: translateY(24px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-slide-up {
  animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
}

/* Platform link badges */
.platform-link {
  @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200;
}
.platform-link-active {
  @apply border border-theme text-theme-primary;
}
.platform-link-active:hover {
  @apply shadow-md;
  background-color: rgb(var(--color-surface-alt));
  transform: translateY(-1px);
}
.platform-link-disabled {
  @apply text-theme-muted cursor-default opacity-50;
  background-color: rgb(var(--color-surface-alt));
}

/* ─── Premium Decorative Elements ──────────────────────── */

/* Animated gradient orb */
@keyframes orbFloat {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(30px, -30px) scale(1.1); }
  50% { transform: translate(-20px, 20px) scale(0.95); }
  75% { transform: translate(15px, 10px) scale(1.05); }
}
.gradient-orb {
  border-radius: 50%;
  filter: blur(80px);
  animation: orbFloat 20s ease-in-out infinite;
  pointer-events: none;
}

/* Shine sweep on hover */
.shine-hover {
  position: relative;
  overflow: hidden;
}
.shine-hover::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -60%;
  width: 40%;
  height: 200%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.12), transparent);
  transform: rotate(25deg);
  transition: left 0.7s ease;
  pointer-events: none;
}
.shine-hover:hover::after {
  left: 120%;
}

/* Morphing blob */
@keyframes morphBlob {
  0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
  25% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
  50% { border-radius: 50% 60% 30% 60% / 30% 50% 70% 60%; }
  75% { border-radius: 60% 40% 60% 30% / 70% 30% 50% 60%; }
}
.morph-blob {
  animation: morphBlob 12s ease-in-out infinite;
}
